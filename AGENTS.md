# stock / crypto 量化交易長期準則

此檔案僅保存不隨進度變動的共識與原則，協助後續開發保持方向一致。

## 核心架構目標

1. **運算後端**
   - 負責執行交易策略、產生即時訊號。
   - 將訊號推送至交易 API、Discord 等通訊管道。
   - 提供 API 供前端或其他服務查詢。

2. **視覺化 Dashboard**
   - 呈現回測統計、策略比較與監控資訊。
   - 支援 K 線 / 折線圖標記進出場與報酬。
   - 作為策略評估與告警的前端中心。

3. **資料回測引擎**
   - 可使用自建框架或既有工具（如 backtrader）。
   - 覆蓋完整績效評估與風險分析指標。

4. **策略抽象與目錄**
   - 使用統一的策略基底 class（標準化介面）。
   - 所有策略實作放置於 `/strategies`。
   - 流程模組化，可共用於回測與即時。

## 技術與程式原則

- **績效評估**：以年化報酬為主，輔以夏普、最大回撤等風險調整指標，評估函式需具備數學依據。
- **資料/訊號邏輯**：優先採函數式組合，方便測試與重構。
- **風控/排程**：長期狀態由輕量 OOP 容器管理，邏輯仍保持純函數。
- **並行與效率**：運算密集工作需支援多核心或 GPU。
- **機器學習策略**：評估參數對時間漂移的韌性，必要時使用 XGBoost 等模型。
- **註解/日誌**：註解使用繁體中文；日誌使用英文，INFO 記錄重要事件、DEBUG 用於調試。

## 長期流程

1. 取得與回補市場資料（CCXT → SQLite）。
2. 策略訓練、參數搜尋（Optuna 或其他工具）。
3. 回測與績效報告產出（HTML / Dashboard）。
4. 即時訊號與通知（排程器）。
5. 持續監控與再訓練。

## 中文檔案檢視（UTF‑8）

- 透過 `scripts/cat_utf8.ps1` 或設定 PowerShell `OutputEncoding` 以免亂碼。
- 檔案內容搜尋建議使用 `rg`，需查看時再以 UTF‑8 方式顯示。 
